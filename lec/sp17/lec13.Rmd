---
jupyter:
  jupytext:
    text_representation:
      extension: .Rmd
      format_name: rmarkdown
      format_version: '1.1'
      jupytext_version: 1.2.4
  kernelspec:
    display_name: Python 3
    language: python
    name: python3
---

```{python deletable=TRUE, editable=TRUE}
from datascience import *
import numpy as np

# %matplotlib inline
import matplotlib.pyplot as plots
plots.style.use('fivethirtyeight')
```

<!-- #region {"deletable": true, "editable": true} -->
## Comparison
<!-- #endregion -->

```{python deletable=TRUE, editable=TRUE}
x = 3
y = 4
x > y
```

```{python deletable=TRUE, editable=TRUE}
x < y
```

```{python deletable=TRUE, editable=TRUE}
y <= y
```

```{python deletable=TRUE, editable=TRUE}
x > 2
```

```{python deletable=TRUE, editable=TRUE}
x == 3
```

```{python deletable=TRUE, editable=TRUE}
5 == 10/2
```

```{python deletable=TRUE, editable=TRUE}
# 5 = 10/2
```

```{python deletable=TRUE, editable=TRUE}
# 5 = 'hello'
```

```{python deletable=TRUE, editable=TRUE}
y != 10/2
```

```{python deletable=TRUE, editable=TRUE}
x < 3.5 < y
```

```{python deletable=TRUE, editable=TRUE}
min(x, y) <= (x+y)/2 <= max(x, y)
```

```{python deletable=TRUE, editable=TRUE}
'Dog' > 'Cat'
```

```{python deletable=TRUE, editable=TRUE}
'Dog' > 'Catastrophe' > 'Cat'
```

```{python deletable=TRUE, editable=TRUE}
a = np.arange(11, 50)
a
```

```{python deletable=TRUE, editable=TRUE}
a > 30
```

```{python deletable=TRUE, editable=TRUE}
a <= 15
```

```{python deletable=TRUE, editable=TRUE}
# 13 <= a <= 19
```

```{python deletable=TRUE, editable=TRUE}
def teen(x):
    return 13 <= x <= 19

[teen(10), teen(15), teen(20)]
```

```{python deletable=TRUE, editable=TRUE}
ages = Table().with_column('Age', a)
ages.with_column('Teenager', ages.apply(teen, 'Age'))
```

```{python deletable=TRUE, editable=TRUE}
[x, y]
```

```{python deletable=TRUE, editable=TRUE}
x < 2 or y > 4
```

```{python deletable=TRUE, editable=TRUE}
not (x < 2 or x > 4)
```

```{python deletable=TRUE, editable=TRUE}
# a > 12 and a < 20
```

<!-- #region {"deletable": true, "editable": true} -->
## Predicates
<!-- #endregion -->

```{python deletable=TRUE, editable=TRUE}
ages
```

```{python deletable=TRUE, editable=TRUE}
still_young = are.between(35, 40)
ages.where('Age', still_young)
```

```{python deletable=TRUE, editable=TRUE}
still_young(38)
```

```{python deletable=TRUE, editable=TRUE}
still_young(40)
```

```{python deletable=TRUE, editable=TRUE}
ages.apply(still_young, 'Age')
```

```{python deletable=TRUE, editable=TRUE}
ages.where('Age', teen)
```

<!-- #region {"deletable": true, "editable": true} -->
## Choice
<!-- #endregion -->

```{python deletable=TRUE, editable=TRUE}
two_groups = make_array('treatment', 'control')
np.random.choice(two_groups)
```

```{python deletable=TRUE, editable=TRUE}
np.random.choice(two_groups, 10)
```

```{python deletable=TRUE, editable=TRUE}
np.random.choice(two_groups, 10)
```

```{python deletable=TRUE, editable=TRUE}
outcomes = np.random.choice(two_groups, 10)
outcomes
```

```{python deletable=TRUE, editable=TRUE}
outcomes
```

```{python deletable=TRUE, editable=TRUE}
outcomes == 'control'
```

```{python deletable=TRUE, editable=TRUE}
np.count_nonzero(outcomes)
```

```{python deletable=TRUE, editable=TRUE}
np.count_nonzero(outcomes == 'control')
```

```{python deletable=TRUE, editable=TRUE}
np.count_nonzero(outcomes == 'treatment')
```

## Discussion Question

```{python}
outcomes = np.random.choice(np.arange(6)+1, 1000) + np.random.choice(np.arange(6)+1, 1000)
Table().with_column("Outcome", outcomes).group(0).bar('Outcome')
```

<!-- #region {"deletable": true, "editable": true} -->
## Conditional Statements
<!-- #endregion -->

```{python deletable=TRUE, editable=TRUE}
def sign(x):
    print(x, 'is', end=' ')
    if x > 0:
        print('positive')
    if x < 0:
        print('negative')
    if x == 0:
        print('zero')

sign(3)
sign(-3)
sign(0)
```

```{python deletable=TRUE, editable=TRUE}
def sign(x):
    print(x, 'is', end=' ')
    if x > 1e-15:
        print('positive')
    elif x < -1e-15:
        print('negative')
    elif x == 0:
        print('zero')
    else:
        print('really close to zero')

sign(3)
sign(-3)
sign(0)
sign(2**0.5 * 2 **0.5 - 2)
```

<!-- #region {"deletable": true, "editable": true} -->
## For Statements
<!-- #endregion -->

```{python deletable=TRUE, editable=TRUE}
np.append(make_array(1, 2, 3), 4)
```

```{python deletable=TRUE, editable=TRUE}
np.append(make_array(1, 2, 3), 'four')
```

```{python deletable=TRUE, editable=TRUE}
np.append(make_array(1, 2, 3), make_array(4, 5, 6))
```

```{python deletable=TRUE, editable=TRUE}
np.arange(4)
```

```{python deletable=TRUE, editable=TRUE}
for i in np.arange(4):
    print('iteration', i)
```

```{python deletable=TRUE, editable=TRUE}
coin = make_array('heads', 'tails')
np.random.choice(coin)
```

```{python deletable=TRUE, editable=TRUE}
np.count_nonzero(np.random.choice(coin, 100) == 'heads')
```

```{python deletable=TRUE, editable=TRUE}
num_heads = make_array(np.count_nonzero(np.random.choice(coin, 100) == 'heads'))
num_heads
```

```{python deletable=TRUE, editable=TRUE}
num_heads = np.append(num_heads, np.count_nonzero(np.random.choice(coin, 100) == 'heads'))
num_heads
```

```{python deletable=TRUE, editable=TRUE}
for i in np.arange(10000):
    num_heads = np.append(num_heads, np.count_nonzero(np.random.choice(coin, 100) == 'heads'))
num_heads
```

```{python deletable=TRUE, editable=TRUE}
len(num_heads)
```

```{python deletable=TRUE, editable=TRUE}
t = Table().with_column('Heads in 100 coin flips', num_heads)
t.hist(bins=np.arange(30, 70, 1))
```

```{python deletable=TRUE, editable=TRUE}
most = t.group(0).where(0, are.between(40, 60))
most
```

```{python deletable=TRUE, editable=TRUE}
sum(most.column('count')) / t.num_rows * 100
```

```{python deletable=TRUE, editable=TRUE}
trips = Table.read_table('trip.csv')
trips
```

```{python deletable=TRUE, editable=TRUE}
trips.group('Start Station').sort(1, descending=True)
```

```{python deletable=TRUE, editable=TRUE}
caltrain = trips.where('Start Station', are.containing('San Francisco Caltrain')).where('Duration', are.below(104))
caltrain
```

```{python deletable=TRUE, editable=TRUE}
caltrain.group('Start Station')
```
